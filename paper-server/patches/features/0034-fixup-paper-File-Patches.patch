From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Spottedleaf <Spottedleaf@users.noreply.github.com>
Date: Sat, 4 Oct 2025 11:15:18 -0700
Subject: [PATCH] fixup! paper File Patches


diff --git a/net/minecraft/util/thread/BlockableEventLoop.java b/net/minecraft/util/thread/BlockableEventLoop.java
index 9407433c431fb4e945a9db1ebd572b0764f47841..ef29b33db3a665621f35a7480892c65fd9045a5a 100644
--- a/net/minecraft/util/thread/BlockableEventLoop.java
+++ b/net/minecraft/util/thread/BlockableEventLoop.java
@@ -33,6 +33,23 @@ public abstract class BlockableEventLoop<R extends Runnable> implements Profiler
         MetricsRegistry.INSTANCE.add(this);
     }
 
+    // Paper start
+    public final void executeAllRecentInternalTasks() {
+        final int pending = this.pendingRunnables.size();
+
+        // note: due to possible recursive execution, we may execute more tasks than we want to
+
+        for (int i = 0; i < pending; ++i) {
+            final R run = this.pendingRunnables.poll();
+            if (run == null) {
+                // recursion
+                break;
+            }
+            this.doRunTask(run);
+        }
+    }
+    // Paper end
+
     protected abstract boolean shouldRun(R runnable);
 
     public boolean isSameThread() {
